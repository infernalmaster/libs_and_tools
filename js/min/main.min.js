(function(){var t;t=angular.module("ithings",["ngRoute","firebase"]),t.value("fbURL","https://interesting-things.firebaseio.com"),t.factory("Auth",function(t,n){return n(new Firebase(t))}),t.factory("Things",function(t,n){return t(new Firebase(""+n+"/things/"))}),t.config(function(t){return t.when("/",{controller:"ListCtrl",templateUrl:"list.html"}).when("/edit/:thingId",{controller:"EditCtrl",templateUrl:"detail.html"}).when("/new",{controller:"CreateCtrl",templateUrl:"detail.html"}).otherwise({redirectTo:"/"})}),t.controller("ListCtrl",function(t,n,r){return t.things=n.$asArray(),t.auth=r,t.auth.$onAuth(function(){return t.$evalAsync(function(){return t.user=t.auth.$getAuth()})})}),t.controller("CreateCtrl",function(t,n,r){return t.save=function(){return r.$asArray().$add(t.thing).then(function(){return n.path("/")})}}),t.controller("EditCtrl",function(t,n,r,e){var i;return i=e.$asArray(),i.$loaded().then(function(){return t.thing=i.$getRecord(r.thingId)}),t.destroy=function(){return i.$remove(t.thing).then(function(){return n.path("/")})},t.save=function(){return i.$save(t.thing).then(function(){return n.path("/")})}})}).call(this);